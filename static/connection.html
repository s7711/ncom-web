<!DOCTYPE html>
<html lang="en">
  <head>
    <title>OxTS Connection</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="favicon.png">
    <script type="text/javascript" src="messages.js"></script>  
  </head>
  <body>
    <h1><a href="index.html" style="text-decoration:none">Connection</a></h1>
    <p>
      Send: <input type="text" id="send_text" onkeypress="javascript:doit_onkeypress(event);" />
    </p>
    <table border=1 class="dataframe, dataframe2">
      <thead>
        <tr style="text-align:right;">
          <th>Measurement</th>
          <th>Value</th>
          <th>Units</th>
        </tr>
      </thead>
      <!-- Note: the id of the <td> cell used to match the key -->
      <!-- See onMessage() for format -->
        <tr> <td>IP address</td>         <td id="ms_ip">---</td>     <td></td> </tr>
        <tr> <td>Chars received</td>     <td id="mi_numChars">---</td>     <td></td> </tr>
        <tr> <td>Chars skipped</td>      <td id="mi_skippedChars">---</td> <td></td> </tr>
        <tr> <td>Packets received</td>   <td id="mi_numPackets">---</td>   <td></td> </tr>
        <tr> <td>Time offset</td>        <td id="mf4_timeOffset">---</td>   <td>s</td> </tr>
        <tr> <td>Repeated UDP</td>       <td id="mi_repeatedUdp">---</td>   <td></td> </tr>
        <tr> <td>Unprocessed bytes</td>  <td id="mi_unprocessedBytes">---</td>   <td></td> </tr>
    </table>
    <button class="gadButton" onclick="websocket.send('#shutdown');">Shutdown</button>
    <button class="gadButton" onclick="websocket.send('!reset');">Reset xNav</button>


    <script language="javascript" type="text/javascript">
      function doit_onkeypress(event)
      {
        if (event.keyCode == 13 || event.which == 13)
        {
          websocket.send(document.getElementById("send_text").value);
        }
      }

    </script>
  </body>
</html>
